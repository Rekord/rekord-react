{"version":3,"sources":["header.js","Bind.js","footer.js"],"names":["global","React","Rekord","undefined","Bind","component","target","property","set","this","notify","on","prototype","isRekord","Database","off","$change","unmount","componentWillUnmount","apply","arguments","state","setState","forceUpdate"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GCAA,QAAAC,GAAAC,EAAAC,EAAAC,EAAAC,GAEA,MAAAC,gBAAAL,IAEAK,KAAAJ,UAAAA,EACAI,KAAAH,OAAAA,EACAG,KAAAF,SAAAA,EAEAC,GAEAC,KAAAC,aAGAD,MAAAE,MAXA,GAAAP,GAAAC,EAAAC,GAcAF,EAAAQ,WAEAD,GAAA,WAEA,GAAAL,GAAAG,KAAAH,MAEAJ,GAAAW,SAAAP,KAEAA,EAAAG,KAAAH,OAAAA,EAAAQ,SAGA,IAAAC,GAAAN,KAAAM,IAAAT,EAAAA,EAAAU,QAAA,UAAA,UAAAP,KAAAC,OAAAD,MAEAQ,EAAAR,KAAAJ,UAAAa,oBAEAT,MAAAJ,UAAAa,qBAAA,WAEAD,GAEAA,EAAAE,MAAAV,KAAAW,WAGAL,MAGAL,OAAA,WAEA,GAAAD,KAAAF,SACA,CACA,GAAAc,KACAA,GAAAZ,KAAAF,UAAAE,KAAAH,OAEAG,KAAAJ,UAAAiB,SAAAD,OAIAZ,MAAAJ,UAAAkB,gBCnDArB,EAAAE,KAAAA,GAEAK,KAAAR,MAAAC","file":"rekord-react.min.js","sourcesContent":["(function (global, React, Rekord, undefined)\n{\n","function Bind( component, target, property, set )\n{\n  if ( !(this instanceof Bind) ) return new Bind( component, target );\n\n  this.component = component;\n  this.target = target;\n  this.property = property;\n\n  if ( set )\n  {\n    this.notify();\n  }\n\n  this.on();\n}\n\nBind.prototype =\n{\n  on: function()\n  {\n    var target = this.target;\n\n    if ( Rekord.isRekord( target ) )\n    {\n      target = this.target = target.Database;\n    }\n\n    var off = this.off = target[ target.$change ? '$change' : 'change' ]( this.notify, this );\n\n    var unmount = this.component.componentWillUnmount;\n\n    this.component.componentWillUnmount = function()\n    {\n      if ( unmount )\n      {\n        unmount.apply( this, arguments );\n      }\n\n      off();\n    };\n  },\n  notify: function()\n  {\n    if ( this.property )\n    {\n      var state = {};\n      state[ this.property ] = this.target;\n\n      this.component.setState( state );\n    }\n    else\n    {\n      this.component.forceUpdate();\n    }\n  }\n};\n","\n  Rekord.Bind = Bind;\n\n})( this, React, Rekord );\n"],"sourceRoot":"/source/"}